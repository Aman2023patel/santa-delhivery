<mat-card class="cardWithShadow">
  <mat-card-content>
    <mat-card-title>Google Map</mat-card-title>
    <mat-card-subtitle class="mat-body-1 m-b-24 mt-3">Tracking</mat-card-subtitle>

    <div class="map-container">
      <google-map
        [height]="'400px'"
        [width]="'100%'"
        [center]="userLocation.lat && userLocation.lng ? userLocation : warehouseLocation"
        [zoom]="14"
        #googleMap>
        <!-- Warehouse Marker -->
        <map-marker
          [position]="warehouseLocation"
          [title]="'Warehouse Location'"
          [options]="markerOptions">
        </map-marker>

        <!-- Delivery Marker -->
        <map-marker
          *ngIf="deliveryPosition"
          [position]="deliveryPosition"
          [title]="'Delivery Progress'"
          [options]="deliveryMarkerOptions">
        </map-marker>
      </google-map>

      <!-- Start Simulation Button -->
      <div class="controls mt-4">
        <button mat-raised-button color="primary" (click)="simulateDelivery()" class="simulation-btn" [disabled]="simulationInProgress">
          Start Delhivery
        </button>
      </div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-container">
      <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
    </div>
  </mat-card-content>
</mat-card>
